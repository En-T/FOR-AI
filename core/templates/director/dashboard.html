{% extends 'base.html' %}

{% block title %}–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –û—Ç–¥–µ–ª –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è{% endblock %}

{% block breadcrumbs %}
    <a href="{% url 'director-dashboard' %}">–û—Ç–¥–µ–ª –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</a>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</h1>
    <p class="subtitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.first_name|default:user.username }}!</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">üè´</div>
        <div class="stat-value">{{ stats.total_schools }}</div>
        <div class="stat-label">–®–∫–æ–ª</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">üìö</div>
        <div class="stat-value">{{ stats.total_classes }}</div>
        <div class="stat-label">–ö–ª–∞—Å—Å–æ–≤</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">üë®‚Äçüéì</div>
        <div class="stat-value">{{ stats.total_students }}</div>
        <div class="stat-label">–£—á–∞—â–∏—Ö—Å—è</div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">üë®‚Äçüè´</div>
        <div class="stat-value">{{ stats.total_teachers }}</div>
        <div class="stat-label">–£—á–∏—Ç–µ–ª–µ–π</div>
    </div>
</div>

<div class="quick-links">
    <a href="{% url 'director-school-list' %}" class="quick-link">
        <div class="quick-link-icon">üè´</div>
        <div>–®–∫–æ–ª—ã</div>
    </a>
    <a href="{% url 'director-user-list' %}" class="quick-link">
        <div class="quick-link-icon">üë•</div>
        <div>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
    </a>
    <a href="{% url 'director-subject-list' %}" class="quick-link">
        <div class="quick-link-icon">üìñ</div>
        <div>–ü—Ä–µ–¥–º–µ—Ç—ã</div>
    </a>
    <a href="{% url 'director-report' %}" class="quick-link">
        <div class="quick-link-icon">üìä</div>
        <div>–û—Ç—á–µ—Ç</div>
    </a>
</div>

<div class="card">
    <div class="card-header">
        <h2>–í–∞—à–∏ —à–∫–æ–ª—ã</h2>
        <a href="{% url 'director-school-create' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —à–∫–æ–ª—É</a>
    </div>
    
    {% if schools %}
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–î–∏—Ä–µ–∫—Ç–æ—Ä</th>
                    <th>–í—ã–ø—É—Å–∫–Ω–æ–π –∫–ª–∞—Å—Å</th>
                    <th>–ö–ª–∞—Å—Å–æ–≤</th>
                    <th>–£—á–∞—â–∏—Ö—Å—è</th>
                    <th>–£—á–∏—Ç–µ–ª–µ–π</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for school in schools %}
                <tr>
                    <td><a href="{% url 'director-school-detail' school.id %}">{{ school.name }}</a></td>
                    <td>{{ school.director }}</td>
                    <td>{{ school.graduating_class }} –∫–ª–∞—Å—Å</td>
                    <td>{{ school.num_classes }}</td>
                    <td>{{ school.num_students }}</td>
                    <td>{{ school.num_teachers }}</td>
                    <td class="actions">
                        <a href="{% url 'director-school-detail' school.id %}" class="btn btn-info btn-sm">–ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                        <a href="{% url 'director-school-update' school.id %}" class="btn btn-secondary btn-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —à–∫–æ–ª. –ù–∞—á–Ω–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–π —à–∫–æ–ª—ã.</p>
        <a href="{% url 'director-school-create' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —à–∫–æ–ª—É</a>
    </div>
    {% endif %}
</div>
{% endblock %}
