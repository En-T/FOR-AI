{% extends 'base.html' %}

{% block title %}Изменить пароль - {{ user_detail.username }} - Отдел образования{% endblock %}

{% block breadcrumbs %}
    <a href="{% url 'director-dashboard' %}">Отдел образования</a>
    <a href="{% url 'director-user-list' %}">Пользователи</a>
    <a href="{% url 'director-user-detail' user_detail.id %}">{{ user_detail.username }}</a>
    <span>Изменить пароль</span>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Изменить пароль для {{ user_detail.username }}</h1>
</div>

<div class="form-container">
    <form method="post" class="standard-form">
        {% csrf_token %}
        
        <div class="user-info">
            <p><strong>Пользователь:</strong> {{ user_detail.username }} ({{ user_detail.get_role_display }})</p>
            <p><strong>Email:</strong> {{ user_detail.email|default:"-" }}</p>
        </div>

        <div class="form-group">
            <label for="id_new_password">Новый пароль *</label>
            {{ form.new_password }}
            {% if form.new_password.errors %}
            <div class="error-message">{{ form.new_password.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="id_confirm_password">Подтвердите пароль *</label>
            {{ form.confirm_password }}
            {% if form.confirm_password.errors %}
            <div class="error-message">{{ form.confirm_password.errors }}</div>
            {% endif %}
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Изменить пароль</button>
            <a href="{% url 'director-user-detail' user_detail.id %}" class="btn btn-secondary">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}
